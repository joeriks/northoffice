:root {
    --color-primary: #6366f1;
    --color-primary-hover: #4f46e5;
    --color-secondary: #8b5cf6;
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f8fafc;
    --color-bg-tertiary: #f1f5f9;
    --color-text-primary: #0f172a;
    --color-text-secondary: #475569;
    --color-text-tertiary: #94a3b8;
    --color-text-inverse: #ffffff;
    --color-border-light: #e2e8f0;
    --color-border-medium: #cbd5e1;
    --color-border-focus: #6366f1;
    --color-success: #22c55e;
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-blur: blur(10px);
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-full: 9999px;
    --font-family: 'Inter', sans-serif;
    --transition-fast: 150ms ease;
    --header-height: 56px;
    --toolbar-height: 48px;
    --statusbar-height: 32px;
}

[data-theme="dark"] {
    --color-bg-primary: #0f172a;
    --color-bg-secondary: #1e293b;
    --color-bg-tertiary: #334155;
    --color-text-primary: #f1f5f9;
    --color-text-secondary: #94a3b8;
    --color-text-tertiary: #64748b;
    --color-border-light: #334155;
    --color-border-medium: #475569;
    --glass-bg: rgba(30, 41, 59, 0.8);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; -webkit-font-smoothing: antialiased; }
body { font-family: var(--font-family); background: var(--color-bg-secondary); color: var(--color-text-primary); min-height: 100vh; overflow: hidden; }

.app-container { display: flex; flex-direction: column; height: 100vh; background: linear-gradient(135deg, var(--color-bg-secondary), var(--color-bg-tertiary)); }

.app-header { display: flex; align-items: center; justify-content: space-between; height: var(--header-height); padding: 0 var(--spacing-md); background: var(--glass-bg); backdrop-filter: var(--glass-blur); border-bottom: 1px solid var(--color-border-light); z-index: 100; }
.header-left, .header-right { display: flex; align-items: center; gap: var(--spacing-lg); }
.header-center { flex: 1; display: flex; justify-content: center; }

.logo { display: flex; align-items: center; gap: var(--spacing-sm); font-size: 18px; font-weight: 700; color: var(--color-primary); }
.logo i { background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }

.file-menu { display: flex; gap: var(--spacing-xs); }
.menu-btn { display: flex; align-items: center; gap: var(--spacing-xs); padding: var(--spacing-sm) var(--spacing-md); background: transparent; border: none; border-radius: var(--radius-md); color: var(--color-text-secondary); font-size: 13px; cursor: pointer; transition: all var(--transition-fast); }
.menu-btn:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }

.doc-title-input { padding: var(--spacing-sm) var(--spacing-md); background: transparent; border: 1px solid transparent; border-radius: var(--radius-md); font-size: 14px; font-weight: 500; color: var(--color-text-primary); text-align: center; min-width: 200px; transition: all var(--transition-fast); }
.doc-title-input:hover { background: var(--color-bg-tertiary); }
.doc-title-input:focus { outline: none; background: var(--color-bg-primary); border-color: var(--color-border-focus); }

.word-count { font-size: 13px; color: var(--color-text-tertiary); }
.word-count .separator { margin: 0 var(--spacing-sm); opacity: 0.5; }

.theme-toggle { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; background: var(--color-bg-tertiary); border: none; border-radius: var(--radius-full); color: var(--color-text-secondary); cursor: pointer; transition: all var(--transition-fast); }
.theme-toggle:hover { background: var(--color-primary); color: var(--color-text-inverse); transform: rotate(15deg); }

.formatting-toolbar { display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm) var(--spacing-md); background: var(--color-bg-primary); border-bottom: 1px solid var(--color-border-light); overflow-x: auto; flex-wrap: wrap; }
.toolbar-section { display: flex; align-items: center; gap: var(--spacing-xs); }
.toolbar-divider { width: 1px; height: 24px; background: var(--color-border-light); margin: 0 var(--spacing-sm); }

.toolbar-select { padding: var(--spacing-sm) var(--spacing-lg) var(--spacing-sm) var(--spacing-md); background: var(--color-bg-tertiary); border: 1px solid var(--color-border-light); border-radius: var(--radius-md); font-size: 13px; color: var(--color-text-primary); cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 8px center; }
.toolbar-select:focus { outline: none; border-color: var(--color-border-focus); }

.format-btn { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: transparent; border: none; border-radius: var(--radius-md); color: var(--color-text-secondary); cursor: pointer; transition: all var(--transition-fast); position: relative; }
.format-btn:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.format-btn.active { background: var(--color-primary); color: var(--color-text-inverse); }

.color-picker-wrapper { position: relative; }
.color-picker-wrapper input[type="color"] { position: absolute; bottom: -4px; left: 50%; transform: translateX(-50%); width: 0; height: 0; opacity: 0; }
.color-btn { padding-bottom: 6px; }
.color-indicator { position: absolute; bottom: 4px; left: 50%; transform: translateX(-50%); width: 16px; height: 3px; border-radius: 2px; background: currentColor; }

.editor-container { flex: 1; overflow: auto; padding: var(--spacing-xl); background: var(--color-bg-tertiary); display: flex; justify-content: center; }
.editor-wrapper { width: 100%; max-width: 900px; }
.page-container { background: var(--color-bg-primary); border-radius: var(--radius-lg); box-shadow: var(--shadow-xl); min-height: calc(100vh - 180px); }

.editor { min-height: 800px; padding: 80px; font-size: 16px; line-height: 1.8; color: var(--color-text-primary); outline: none; word-wrap: break-word; position: relative; }
.editor:empty::before { content: attr(data-placeholder); color: var(--color-text-tertiary); pointer-events: none; position: absolute; }
.editor h1, .editor h2, .editor h3 { margin: 1em 0 0.5em; font-weight: 600; }
.editor p { margin: 0.5em 0; }
.editor ul, .editor ol { margin: 0.5em 0; padding-left: 2em; }
.editor a { color: var(--color-primary); text-decoration: underline; }
.editor img { max-width: 100%; height: auto; border-radius: var(--radius-md); margin: 1em 0; }
.editor table { width: 100%; border-collapse: collapse; margin: 1em 0; }
.editor table td, .editor table th { border: 1px solid var(--color-border-medium); padding: var(--spacing-sm) var(--spacing-md); text-align: left; }
.editor table th { background: var(--color-bg-tertiary); font-weight: 600; }
.editor hr { border: none; height: 2px; background: linear-gradient(90deg, transparent, var(--color-border-medium), transparent); margin: 2em 0; }
.editor blockquote { border-left: 4px solid var(--color-primary); margin: 1em 0; padding-left: 1em; color: var(--color-text-secondary); font-style: italic; }

.status-bar { display: flex; align-items: center; justify-content: space-between; height: var(--statusbar-height); padding: 0 var(--spacing-md); background: var(--color-bg-primary); border-top: 1px solid var(--color-border-light); font-size: 11px; color: var(--color-text-tertiary); }
.status-left, .status-center, .status-right { display: flex; align-items: center; gap: var(--spacing-sm); }
.status-item { display: flex; align-items: center; gap: var(--spacing-xs); }
.status-item i { color: var(--color-success); }

.zoom-btn { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; background: transparent; border: none; border-radius: var(--radius-sm); color: var(--color-text-tertiary); cursor: pointer; }
.zoom-btn:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.zoom-slider { width: 80px; height: 4px; -webkit-appearance: none; background: var(--color-bg-tertiary); border-radius: var(--radius-full); cursor: pointer; }
.zoom-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; background: var(--color-primary); border-radius: var(--radius-full); cursor: pointer; }

.modal { display: none; position: fixed; inset: 0; background: rgba(15, 23, 42, 0.5); backdrop-filter: blur(4px); z-index: 1000; align-items: center; justify-content: center; }
.modal.active { display: flex; }
.modal-content { background: var(--color-bg-primary); border-radius: var(--radius-xl); box-shadow: var(--shadow-xl); width: 100%; max-width: 400px; margin: var(--spacing-md); animation: modalSlideIn 0.3s ease; }
@keyframes modalSlideIn { from { opacity: 0; transform: translateY(-20px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
.modal-header { display: flex; align-items: center; justify-content: space-between; padding: var(--spacing-lg); border-bottom: 1px solid var(--color-border-light); }
.modal-header h3 { font-size: 16px; font-weight: 600; }
.modal-close { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: transparent; border: none; border-radius: var(--radius-full); color: var(--color-text-tertiary); font-size: 20px; cursor: pointer; }
.modal-close:hover { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.modal-body { padding: var(--spacing-lg); }
.modal-footer { display: flex; justify-content: flex-end; gap: var(--spacing-sm); padding: var(--spacing-lg); border-top: 1px solid var(--color-border-light); }

.form-group { margin-bottom: var(--spacing-md); }
.form-group:last-child { margin-bottom: 0; }
.form-group label { display: block; margin-bottom: var(--spacing-xs); font-size: 13px; font-weight: 500; color: var(--color-text-secondary); }
.form-group input { width: 100%; padding: var(--spacing-sm) var(--spacing-md); background: var(--color-bg-tertiary); border: 1px solid var(--color-border-light); border-radius: var(--radius-md); font-size: 14px; color: var(--color-text-primary); }
.form-group input:focus { outline: none; border-color: var(--color-border-focus); }
.form-row { display: flex; gap: var(--spacing-md); }
.form-row .form-group { flex: 1; }

.btn { padding: var(--spacing-sm) var(--spacing-lg); border: none; border-radius: var(--radius-md); font-size: 14px; font-weight: 500; cursor: pointer; transition: all var(--transition-fast); }
.btn-primary { background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); color: var(--color-text-inverse); }
.btn-primary:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); }
.btn-secondary { background: var(--color-bg-tertiary); color: var(--color-text-primary); }
.btn-secondary:hover { background: var(--color-border-light); }

@media (max-width: 768px) {
    .file-menu .menu-btn span { display: none; }
    .menu-btn { padding: var(--spacing-sm); }
    .header-center, .word-count { display: none; }
    .editor { padding: var(--spacing-lg); }
}

::selection { background: rgba(99, 102, 241, 0.3); }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--color-bg-tertiary); }
::-webkit-scrollbar-thumb { background: var(--color-border-medium); border-radius: var(--radius-full); }

@media print {
    .app-header, .formatting-toolbar, .status-bar { display: none !important; }
    .editor-container { padding: 0; background: white; }
    .page-container { box-shadow: none; }
}
